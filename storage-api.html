
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cloud Storage &mdash; gcloud 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="gcloud 0.1 documentation" href="index.html" />
    <link rel="next" title="Getting started with Cloud Storage" href="storage-getting-started.html" />
    <link rel="prev" title="Getting started with gcloud" href="getting-started.html" /> 
  </head>
  <body role="document" class="two-column docs"><a href="https://github.com/GoogleCloudPlatform/gcloud-python"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 999;" src="_static/forkme.png" alt="Fork me on GitHub"></a>
    <div id="sandbar">
      <header id="gc-googlebar">
      <a id="gc-logo" href="index.html">
        <img src="_static/cloudplatform-horizontal.png" alt="Google">
        </a>
        <form class="gc-search" action="search.html" method="GET">
          <div class="searchbox" style="width: 429px;">
            <span class="button button-blue mini">Google Cloud Python API</span>
            <input type="hidden" name="check_keywords" value="yes">
            <input type="hidden" name="area" value="default">
            <input type="text" name="q" class="q" id="q" value=""
              placeholder="Search" autocomplete="off" style="width: 263px;">
          </div>
          <button class="button button-blue" style="top: 0px; left: 444px;">
          <img src="_static/search.png" alt="Search">
        </button>

        <input type="hidden" name="p" id="search_project" value="/compute">

      </form>
      </header>
    </div>
    
<div id="gc-wrapper">
  <div id="gc-appbar">
    <h1><a href="index.html">gcloud 0.1 documentation</a></h1>
  </div>
    <div id="gc-main" class="main">
      <div id="gc-sidebar" class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<nav class="gc-toc">
  <ul><li><a href="index.html">gCloud Documentation</a></li></ul>
  <ul>
<li><a class="reference internal" href="#">Cloud Storage</a><ul>
<li><a class="reference internal" href="#module-gcloud.storage.__init__"><tt class="docutils literal"><span class="pre">gcloud.storage</span></tt></a></li>
<li><a class="reference internal" href="#module-gcloud.storage.connection">Connections</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.bucket">Buckets</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.key">Keys</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.acl">Access Control</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.iterator">Iterators</a></li>
<li><a class="reference internal" href="#module-gcloud.storage.exceptions">Exceptions</a></li>
</ul>
</li>
</ul>

  </nav>

            <h3>All API Docs</h3>
            <nav class="gc-toc">
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="common-api.html">Cloud Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="datastore-api.html">Cloud Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="datastore-getting-started.html">Getting started with Cloud Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="datastore-quickstart.html">Cloud Datastore in 10 seconds</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started with gcloud</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Cloud Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage-getting-started.html">Getting started with Cloud Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage-quickstart.html">Cloud Storage in 10 seconds</a></li>
</ul>

            </nav>
            
            
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main" id="gc-content">
            
  <div class="section" id="cloud-storage">
<h1>Cloud Storage<a class="headerlink" href="#cloud-storage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-gcloud.storage.__init__">
<span id="gcloud-storage"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">gcloud.storage</span></tt><a class="headerlink" href="#module-gcloud.storage.__init__" title="Permalink to this headline">¶</a></h2>
<p>Shortcut methods for getting set up with Google Cloud Storage.</p>
<p>You&#8217;ll typically use these to get started with the API:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">gcloud.storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">gcloud</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;bucket-id-here&#39;</span><span class="p">,</span>
<span class="go">                                       &#39;project-id&#39;,</span>
<span class="go">                                       &#39;long-email@googleapis.com&#39;,</span>
<span class="go">                                       &#39;/path/to/private.key&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Then do other things...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="s">&#39;/remote/path/to/file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">key</span><span class="o">.</span><span class="n">get_contents_as_string</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">set_contents_from_string</span><span class="p">(</span><span class="s">&#39;New contents!&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s">&#39;/remote/path/storage.txt&#39;</span><span class="p">,</span> <span class="s">&#39;/local/path.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The main concepts with this API are:</p>
<ul class="simple">
<li><a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></tt></a> which represents a
connection between your machine and the Cloud Storage API.</li>
<li><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a> which represents a particular
bucket (akin to a mounted disk on a computer).</li>
<li><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a> which represents a pointer to a
particular entity in Cloud Storage (akin to a file path on a remote
machine).</li>
</ul>
<dl class="function">
<dt id="gcloud.storage.__init__.get_bucket">
<tt class="descclassname">gcloud.storage.__init__.</tt><tt class="descname">get_bucket</tt><big>(</big><em>bucket_name</em>, <em>project</em>, <em>client_email</em>, <em>private_key_path</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/__init__.html#get_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.__init__.get_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to establish a connection to a particular bucket.</p>
<p>You&#8217;ll generally use this as the first call to working with the API:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">bucket_name</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Now you can do things with the bucket.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&#39;/path/to/file.txt&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket_name</strong> (<em>string</em>) &#8211; The id of the bucket you want to use.
This is akin to a disk name on a file system.</li>
<li><strong>project</strong> (<em>string</em>) &#8211; The name of the project to connect to.</li>
<li><strong>client_email</strong> (<em>string</em>) &#8211; The e-mail attached to the service account.</li>
<li><strong>private_key_path</strong> (<em>string</em>) &#8211; The path to a private key file (this file was
given to you when you created the service
account).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A bucket with a connection using the provided credentials.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gcloud.storage.__init__.get_connection">
<tt class="descclassname">gcloud.storage.__init__.</tt><tt class="descname">get_connection</tt><big>(</big><em>project</em>, <em>client_email</em>, <em>private_key_path</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/__init__.html#get_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.__init__.get_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to establish a connection to Cloud Storage.</p>
<p>Use this if you are going to access several buckets with the same
set of credentials:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket1</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;bucket1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket2</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;bucket2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>project</strong> (<em>string</em>) &#8211; The name of the project to connect to.</li>
<li><strong>client_email</strong> (<em>string</em>) &#8211; The e-mail attached to the service account.</li>
<li><strong>private_key_path</strong> (<em>string</em>) &#8211; The path to a private key file (this file was
given to you when you created the service
account).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A connection defined with the proper credentials.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.connection">
<span id="connections"></span><h2>Connections<a class="headerlink" href="#module-gcloud.storage.connection" title="Permalink to this headline">¶</a></h2>
<p>Create / interact with gcloud storage connections.</p>
<dl class="class">
<dt id="gcloud.storage.connection.Connection">
<em class="property">class </em><tt class="descclassname">gcloud.storage.connection.</tt><tt class="descname">Connection</tt><big>(</big><em>project</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="common-api.html#gcloud.connection.Connection" title="gcloud.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.connection.Connection</span></tt></a></p>
<p>A connection to Google Cloud Storage via the JSON REST API.</p>
<p>This class should understand only the basic types (and protobufs)
in method arguments, however should be capable of returning advanced types.</p>
<p>See <a class="reference internal" href="common-api.html#gcloud.connection.Connection" title="gcloud.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.connection.Connection</span></tt></a> for a full list of parameters.
<a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></a> differs only in needing a project name
(which you specify when creating a project in the Cloud Console).</p>
<p>A typical use of this is to operate on
<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a> objects:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">create_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket-name&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then delete this bucket:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># or</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span><span class="o">.</span><span class="n">delete_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to access an existing bucket:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket-name&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A <a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></a> is actually iterable and will return the
<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a> objects inside the project:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="n">connection</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: my-bucket-name&gt;</span>
</pre></div>
</div>
<p>In that same way, you can check for whether a bucket exists inside
the project using Python&#8217;s <tt class="docutils literal"><span class="pre">in</span></tt> operator:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&#39;my-bucket-name&#39;</span> <span class="ow">in</span> <span class="n">connection</span>
<span class="go">True</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project</strong> (<em>string</em>) &#8211; The project name to connect to.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gcloud.storage.connection.Connection.API_ACCESS_ENDPOINT">
<tt class="descname">API_ACCESS_ENDPOINT</tt><em class="property"> = 'https://storage.googleapis.com'</em><a class="headerlink" href="#gcloud.storage.connection.Connection.API_ACCESS_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.connection.Connection.API_URL_TEMPLATE">
<tt class="descname">API_URL_TEMPLATE</tt><em class="property"> = '{api_base_url}/storage/{api_version}{path}'</em><a class="headerlink" href="#gcloud.storage.connection.Connection.API_URL_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>A template for the URL of a particular API call.</p>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.connection.Connection.API_VERSION">
<tt class="descname">API_VERSION</tt><em class="property"> = 'v1'</em><a class="headerlink" href="#gcloud.storage.connection.Connection.API_VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the API, used in building the API call&#8217;s URL.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.api_request">
<tt class="descname">api_request</tt><big>(</big><em>method</em>, <em>path</em>, <em>query_params=None</em>, <em>data=None</em>, <em>content_type=None</em>, <em>api_base_url=None</em>, <em>api_version=None</em>, <em>expect_json=True</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.api_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.api_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a request over the HTTP transport to the Cloud Storage API.</p>
<p>You shouldn&#8217;t need to use this method, but if you plan to
interact with the API using these primitives, this is the
correct one to use...</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>string</em>) &#8211; The HTTP method name (ie, <tt class="docutils literal"><span class="pre">GET</span></tt>, <tt class="docutils literal"><span class="pre">POST</span></tt>, etc).
Required.</li>
<li><strong>path</strong> (<em>string</em>) &#8211; The path to the resource (ie, <tt class="docutils literal"><span class="pre">'/b/bucket-name'</span></tt>).
Required.</li>
<li><strong>query_params</strong> (<em>dict</em>) &#8211; A dictionary of keys and values to insert into
the query string of the URL.  Default is
empty dict.</li>
<li><strong>data</strong> (<em>string</em>) &#8211; The data to send as the body of the request. Default is
the empty string.</li>
<li><strong>content_type</strong> (<em>string</em>) &#8211; The proper MIME type of the data provided. Default
is None.</li>
<li><strong>api_base_url</strong> (<em>string</em>) &#8211; The base URL for the API endpoint.
Typically you won&#8217;t have to provide this.
Default is the standard API base URL.</li>
<li><strong>api_version</strong> (<em>string</em>) &#8211; The version of the API to call.  Typically
you shouldn&#8217;t provide this and instead use
the default for the library.  Default is the
latest API version supported by
gcloud-python.</li>
<li><strong>expect_json</strong> (<em>bool</em>) &#8211; If True, this method will try to parse the
response as JSON and raise an exception if
that cannot be done.  Default is True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Exception if the response code is not 200 OK.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.build_api_url">
<tt class="descname">build_api_url</tt><big>(</big><em>path</em>, <em>query_params=None</em>, <em>api_base_url=None</em>, <em>api_version=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.build_api_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.build_api_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an API url given a few components, some optional.</p>
<p>Typically, you shouldn&#8217;t need to use this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) &#8211; The path to the resource (ie, <tt class="docutils literal"><span class="pre">'/b/bucket-name'</span></tt>).</li>
<li><strong>query_params</strong> (<em>dict</em>) &#8211; A dictionary of keys and values to insert into
the query string of the URL.</li>
<li><strong>api_base_url</strong> (<em>string</em>) &#8211; The base URL for the API endpoint.
Typically you won&#8217;t have to provide this.</li>
<li><strong>api_version</strong> (<em>string</em>) &#8211; The version of the API to call.
Typically you shouldn&#8217;t provide this and instead
use the default for the library.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The URL assembled from the pieces provided.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.create_bucket">
<tt class="descname">create_bucket</tt><big>(</big><em>bucket</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.create_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.create_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new bucket.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">client</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">create_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: my-bucket&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (string or <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>) &#8211; The bucket name (or bucket object) to create.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The newly created bucket.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.ConnectionError" title="gcloud.storage.exceptions.ConnectionError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.ConnectionError</span></tt></a> if
there is a confict (bucket already exists, invalid name, etc.)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.delete_bucket">
<tt class="descname">delete_bucket</tt><big>(</big><em>bucket</em>, <em>force=False</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.delete_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.delete_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a bucket.</p>
<p>You can use this method to delete a bucket by name, or to delete
a bucket object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span><span class="o">.</span><span class="n">delete_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>You can also delete pass in the bucket object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;other-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span><span class="o">.</span><span class="n">delete_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If the bucket doesn&#8217;t exist, this will raise a
<a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud.storage</span> <span class="kn">import</span> <span class="n">exceptions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">connection</span><span class="o">.</span><span class="n">delete_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotFoundError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="s">&#39;That bucket does not exist!&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket</strong> (string or <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>) &#8211; The bucket name (or bucket object) to create.</li>
<li><strong>full</strong> &#8211; If True, empties the bucket&#8217;s objects then deletes it.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">bool</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the bucket was deleted.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a> if the
bucket doesn&#8217;t exist, or
<a class="reference internal" href="#gcloud.storage.exceptions.ConnectionError" title="gcloud.storage.exceptions.ConnectionError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.ConnectionError</span></tt></a> if the
bucket has keys and <cite>force</cite> is not passed.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.generate_signed_url">
<tt class="descname">generate_signed_url</tt><big>(</big><em>resource</em>, <em>expiration</em>, <em>method='GET'</em>, <em>content_md5=None</em>, <em>content_type=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.generate_signed_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.generate_signed_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate signed URL to provide query-string auth&#8217;n to a resource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource</strong> (<em>string</em>) &#8211; A pointer to a specific resource
(typically, <tt class="docutils literal"><span class="pre">/bucket-name/path/to/key.txt</span></tt>).</li>
<li><strong>expiration</strong> (<em>int, long, datetime.datetime, datetime.timedelta</em>) &#8211; When the signed URL should expire.</li>
<li><strong>method</strong> (<em>string</em>) &#8211; The HTTP verb that will be used when requesting the URL.</li>
<li><strong>content_md5</strong> (<em>string</em>) &#8211; The MD5 hash of the object referenced by
<tt class="docutils literal"><span class="pre">resource</span></tt>.</li>
<li><strong>content_type</strong> (<em>string</em>) &#8211; The content type of the object referenced by
<tt class="docutils literal"><span class="pre">resource</span></tt>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A signed URL you can use to access the resource
until expiration.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.get_all_buckets">
<tt class="descname">get_all_buckets</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.get_all_buckets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.get_all_buckets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all buckets in the project.</p>
<p>This will not populate the list of keys available in each
bucket.</p>
<p>You can also iterate over the connection object, so these two
operations are identical:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_all_buckets</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="n">bucket</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># ... is the same as ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="n">connection</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="n">bucket</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a> objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">All buckets belonging to this project.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.get_bucket">
<tt class="descname">get_bucket</tt><big>(</big><em>bucket_name</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.get_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.get_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a bucket by name.</p>
<p>If the bucket isn&#8217;t found, this will raise a
<a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a>.  If you would
rather get a bucket by name, and return <tt class="docutils literal"><span class="pre">None</span></tt> if the bucket
isn&#8217;t found (like <tt class="docutils literal"><span class="pre">{}.get('...')</span></tt>) then use
<a class="reference internal" href="#gcloud.storage.connection.Connection.lookup" title="gcloud.storage.connection.Connection.lookup"><tt class="xref py py-func docutils literal"><span class="pre">Connection.lookup()</span></tt></a>.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud.storage</span> <span class="kn">import</span> <span class="n">exceptions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotFoundError</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="s">&#39;Sorry, that bucket does not exist!&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket_name</strong> (<em>string</em>) &#8211; The name of the bucket to get.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The bucket matching the name provided.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.lookup">
<tt class="descname">lookup</tt><big>(</big><em>bucket_name</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a bucket by name, returning None if not found.</p>
<p>You can use this if you would rather checking for a None value
than catching an exception:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;doesnt-exist&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: my-bucket&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket_name</strong> (<em>string</em>) &#8211; The name of the bucket to get.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The bucket matching the name provided or None if not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.make_request">
<tt class="descname">make_request</tt><big>(</big><em>method</em>, <em>url</em>, <em>data=None</em>, <em>content_type=None</em>, <em>headers=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.make_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.make_request" title="Permalink to this definition">¶</a></dt>
<dd><p>A low level method to send a request to the API.</p>
<p>Typically, you shouldn&#8217;t need to use this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>string</em>) &#8211; The HTTP method to use in the request.</li>
<li><strong>url</strong> (<em>string</em>) &#8211; The URL to send the request to.</li>
<li><strong>data</strong> (<em>string</em>) &#8211; The data to send as the body of the request.</li>
<li><strong>content_type</strong> (<em>string</em>) &#8211; The proper MIME type of the data provided.</li>
<li><strong>headers</strong> (<em>dict</em>) &#8211; A dictionary of HTTP headers to send with the request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple of <tt class="docutils literal"><span class="pre">response</span></tt> (a dictionary of sorts)
and <tt class="docutils literal"><span class="pre">content</span></tt> (a string).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The HTTP response object and the content of the response.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.connection.Connection.new_bucket">
<tt class="descname">new_bucket</tt><big>(</big><em>bucket</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/connection.html#Connection.new_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.connection.Connection.new_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for creating a new (unsaved) bucket object.</p>
<p>This method is really useful when you&#8217;re not sure whether you
have an actual <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a> object or
just a name of a bucket.  It always returns the object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">new_bucket</span><span class="p">(</span><span class="s">&#39;bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: bucket&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">new_bucket</span><span class="p">(</span><span class="n">bucket</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span>
<span class="go">&lt;Bucket: bucket&gt;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (string or <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>) &#8211; A name of a bucket or an existing Bucket object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.bucket">
<span id="buckets"></span><h2>Buckets<a class="headerlink" href="#module-gcloud.storage.bucket" title="Permalink to this headline">¶</a></h2>
<p>Create / interact with gcloud storage buckets.</p>
<dl class="class">
<dt id="gcloud.storage.bucket.Bucket">
<em class="property">class </em><tt class="descclassname">gcloud.storage.bucket.</tt><tt class="descname">Bucket</tt><big>(</big><em>connection=None</em>, <em>name=None</em>, <em>properties=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage._helpers._PropertyMixin</span></tt></p>
<p>A class representing a Bucket on Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>connection</strong> (<a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></tt></a>) &#8211; The connection to use when sending requests.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the bucket.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.CUSTOM_PROPERTY_ACCESSORS">
<tt class="descname">CUSTOM_PROPERTY_ACCESSORS</tt><em class="property"> = {'storageClass': 'storage_class', 'versioning': 'versioning_enabled', 'owner': 'owner', 'projectNumber': 'project_number', 'metageneration': 'metageneration', 'id': 'id', 'etag': 'etag', 'timeCreated': 'time_created', 'lifecycle': 'get_lifecycle()', 'name': 'name', 'logging': 'get_logging()', 'selfLink': 'self_link', 'cors': 'get_cors()', 'location': 'location', 'defaultObjectAcl': 'get_default_object_acl()', 'acl': 'get_acl()'}</em><a class="headerlink" href="#gcloud.storage.bucket.Bucket.CUSTOM_PROPERTY_ACCESSORS" title="Permalink to this definition">¶</a></dt>
<dd><p>Map field name -&gt; accessor for fields w/ custom accessors.</p>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.acl">
<tt class="descname">acl</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Create our ACL on demand.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.configure_website">
<tt class="descname">configure_website</tt><big>(</big><em>main_page_suffix=None</em>, <em>not_found_page=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.configure_website"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.configure_website" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure website-related properties.</p>
<p>See: <a class="reference external" href="https://developers.google.com/storage/docs/website-configuration">https://developers.google.com/storage/docs/website-configuration</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This (apparently) only works
if your bucket name is a domain name
(and to do that, you need to get approved somehow...).</p>
</div>
<p>If you want this bucket to host a website, just provide the name
of an index page and a page to use when a key isn&#8217;t found:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span>
<span class="go">                                        private_key_path)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">configure_website</span><span class="p">(</span><span class="s">&#39;index.html&#39;</span><span class="p">,</span> <span class="s">&#39;404.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You probably should also make the whole bucket public:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">make_public</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">future</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This says: &#8220;Make the bucket public, and all the stuff already in
the bucket, and anything else I add to the bucket.  Just make it
all public.&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>main_page_suffix</strong> (<em>string</em>) &#8211; The page to use as the main page
of a directory.
Typically something like index.html.</li>
<li><strong>not_found_page</strong> (<em>string</em>) &#8211; The file to use when a page isn&#8217;t found.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.connection">
<tt class="descname">connection</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter property for the connection to use with this Bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The connection to use.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.copy_key">
<tt class="descname">copy_key</tt><big>(</big><em>key</em>, <em>destination_bucket</em>, <em>new_name=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.copy_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.copy_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the given key to the given bucket, optionally with a new name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a>) &#8211; The key to be copied.</li>
<li><strong>destination_bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>) &#8211; The bucket into which the key should be
copied.</li>
<li><strong>new_name</strong> (<em>string</em>) &#8211; (optional) the new name for the copied file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The new Key.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.default_object_acl">
<tt class="descname">default_object_acl</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.default_object_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.default_object_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Create our defaultObjectACL on demand.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.delete">
<tt class="descname">delete</tt><big>(</big><em>force=False</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete this bucket.</p>
<p>The bucket <strong>must</strong> be empty in order to delete it.  If the
bucket doesn&#8217;t exist, this will raise a
<a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a>.  If the bucket
is not empty, this will raise an Exception.</p>
<p>If you want to delete a non-empty bucket you can pass in a force
parameter set to true.  This will iterate through the bucket&#8217;s
keys and delete the related objects, before deleting the bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>full</strong> &#8211; If True, empties the bucket&#8217;s objects then deletes it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a> if the
bucket does not exist, or
<a class="reference internal" href="#gcloud.storage.exceptions.ConnectionError" title="gcloud.storage.exceptions.ConnectionError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.ConnectionError</span></tt></a> if the
bucket has keys and <cite>force</cite> is not passed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.delete_key">
<tt class="descname">delete_key</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.delete_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.delete_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a key from the current bucket.</p>
<p>If the key isn&#8217;t found,
this will throw a <a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a>.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud.storage</span> <span class="kn">import</span> <span class="n">exceptions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, my-file.txt&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">delete_key</span><span class="p">(</span><span class="s">&#39;my-file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>  <span class="n">bucket</span><span class="o">.</span><span class="n">delete_key</span><span class="p">(</span><span class="s">&#39;doesnt-exist&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">NotFoundError</span><span class="p">:</span>
<span class="gp">... </span>  <span class="k">pass</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a>) &#8211; A key name or Key object to delete.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The key that was just deleted.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a> (to suppress
the exception, call <tt class="docutils literal"><span class="pre">delete_keys</span></tt>, passing a no-op
<tt class="docutils literal"><span class="pre">on_error</span></tt> callback, e.g.:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">delete_keys</span><span class="p">([</span><span class="n">key</span><span class="p">],</span> <span class="n">on_error</span><span class="o">=</span><span class="k">lambda</span> <span class="n">key</span><span class="p">:</span> <span class="k">pass</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.delete_keys">
<tt class="descname">delete_keys</tt><big>(</big><em>keys</em>, <em>on_error=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.delete_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.delete_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a list of keys from the current bucket.</p>
<p>Uses <a class="reference internal" href="#gcloud.storage.bucket.Bucket.delete_key" title="gcloud.storage.bucket.Bucket.delete_key"><tt class="xref py py-func docutils literal"><span class="pre">Bucket.delete_key()</span></tt></a> to delete each individual key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>keys</strong> (list of string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a>) &#8211; A list of key names or Key objects to delete.</li>
<li><strong>on_error</strong> (<em>a callable taking (key)</em>) &#8211; If not <tt class="docutils literal"><span class="pre">None</span></tt>, called once for each key raising
<a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a>;
otherwise, the exception is propagated.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a> (if
<cite>on_error</cite> is not passed).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.disable_logging">
<tt class="descname">disable_logging</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.disable_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.disable_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable access logging for this bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/accesslogs#disabling">https://cloud.google.com/storage/docs/accesslogs#disabling</a></p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.disable_website">
<tt class="descname">disable_website</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.disable_website"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.disable_website" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable the website configuration for this bucket.</p>
<p>This is really just a shortcut for setting the website-related
attributes to <tt class="docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.enable_logging">
<tt class="descname">enable_logging</tt><big>(</big><em>bucket_name</em>, <em>object_prefix=''</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.enable_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.enable_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable access logging for this bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/accesslogs#delivery">https://cloud.google.com/storage/docs/accesslogs#delivery</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket_name</strong> (<em>string</em>) &#8211; name of bucket in which to store access logs</li>
<li><strong>object_prefix</strong> (<em>string</em>) &#8211; prefix for access log filenames</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.etag">
<tt class="descname">etag</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.etag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.etag" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the ETag for the bucket.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="http://tools.ietf.org/html/rfc2616#section-3.11">http://tools.ietf.org/html/rfc2616#section-3.11</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="gcloud.storage.bucket.Bucket.from_dict">
<em class="property">classmethod </em><tt class="descname">from_dict</tt><big>(</big><em>bucket_dict</em>, <em>connection=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new bucket from a dictionary of data from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket_dict</strong> (<em>dict</em>) &#8211; The dictionary of data to construct a bucket from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">Bucket</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A bucket constructed from the data provided.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_all_keys">
<tt class="descname">get_all_keys</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_all_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_all_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>List all the keys in this bucket.</p>
<p>This will <strong>not</strong> retrieve all the data for all the keys, it
will only retrieve the keys.</p>
<p>This is equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">bucket</span><span class="p">]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of all the Key objects in this bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_cors">
<tt class="descname">get_cors</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_cors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_cors" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve CORS policies configured for this bucket.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="http://www.w3.org/TR/cors/">http://www.w3.org/TR/cors/</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(dict)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A sequence of mappings describing each CORS policy.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_default_object_acl">
<tt class="descname">get_default_object_acl</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_default_object_acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_default_object_acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current Default Object ACL rules.</p>
<p>If the acl isn&#8217;t available locally, this method will reload it from
Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.DefaultObjectACL" title="gcloud.storage.acl.DefaultObjectACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.DefaultObjectACL</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A DefaultObjectACL object for this bucket.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_key">
<tt class="descname">get_key</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a key object by name.</p>
<p>This will return None if the key doesn&#8217;t exist:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="s">&#39;/path/to/key.txt&#39;</span><span class="p">)</span>
<span class="go">&lt;Key: my-bucket, /path/to/key.txt&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="s">&#39;/does-not-exist.txt&#39;</span><span class="p">)</span>
<span class="go">None</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a>) &#8211; The name of the key to retrieve.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a> or None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The key object if it exists, otherwise None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_lifecycle">
<tt class="descname">get_lifecycle</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_lifecycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_lifecycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve lifecycle rules configured for this bucket.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="https://cloud.google.com/storage/docs/lifecycle">https://cloud.google.com/storage/docs/lifecycle</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(dict)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A sequence of mappings describing each lifecycle rule.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.get_logging">
<tt class="descname">get_logging</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.get_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.get_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Return info about access logging for this bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/accesslogs#status">https://cloud.google.com/storage/docs/accesslogs#status</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dict w/ keys, <tt class="docutils literal"><span class="pre">logBucket</span></tt> and <tt class="docutils literal"><span class="pre">logObjectPrefix</span></tt>
(if logging is enabled), or None (if not).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.id">
<tt class="descname">id</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the ID for the bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.location">
<tt class="descname">location</tt><a class="headerlink" href="#gcloud.storage.bucket.Bucket.location" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve location configured for this bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/concepts-techniques#specifyinglocations">https://cloud.google.com/storage/docs/concepts-techniques#specifyinglocations</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.make_public">
<tt class="descname">make_public</tt><big>(</big><em>recursive=False</em>, <em>future=False</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.make_public"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.make_public" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a bucket public.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>recursive</strong> (<em>bool</em>) &#8211; If True, this will make all keys inside the bucket
public as well.</li>
<li><strong>future</strong> (<em>bool</em>) &#8211; If True, this will make all objects created in the
future public as well.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.metageneration">
<tt class="descname">metageneration</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.metageneration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.metageneration" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the metageneration for the bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.new_key">
<tt class="descname">new_key</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.new_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.new_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Given path name (or Key), return a <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">storage.key.Key</span></tt></a> object.</p>
<p>This is really useful when you&#8217;re not sure if you have a Key
object or a string path name.  Given either of those types, this
returns the corresponding Key object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a>) &#8211; A path name or actual key object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A Key object with the path provided.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.owner">
<tt class="descname">owner</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.owner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.owner" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve info about the owner of the bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">mapping of owner&#8217;s role/ID.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.path">
<tt class="descname">path</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL path to this bucket.</p>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.project_number">
<tt class="descname">project_number</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.project_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.project_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the number of the project to which the bucket is assigned.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.self_link">
<tt class="descname">self_link</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.self_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.self_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the URI for the bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.storage_class">
<tt class="descname">storage_class</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.storage_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.storage_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the storage class for the bucket.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/durable-reduced-availability">https://cloud.google.com/storage/docs/durable-reduced-availability</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Currently one of &#8220;STANDARD&#8221;, &#8220;DURABLE_REDUCED_AVAILABILITY&#8221;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.time_created">
<tt class="descname">time_created</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.time_created"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.time_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the timestamp at which the bucket was created.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">timestamp in RFC 3339 format.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.update_cors">
<tt class="descname">update_cors</tt><big>(</big><em>entries</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.update_cors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.update_cors" title="Permalink to this definition">¶</a></dt>
<dd><p>Update CORS policies configured for this bucket.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="http://www.w3.org/TR/cors/">http://www.w3.org/TR/cors/</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>entries</strong> (<em>list(dict)</em>) &#8211; A sequence of mappings describing each CORS policy.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.update_lifecycle">
<tt class="descname">update_lifecycle</tt><big>(</big><em>rules</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.update_lifecycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.update_lifecycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Update CORS policies configured for this bucket.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="https://cloud.google.com/storage/docs/lifecycle">https://cloud.google.com/storage/docs/lifecycle</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/buckets">https://cloud.google.com/storage/docs/json_api/v1/buckets</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rules</strong> (<em>list(dict)</em>) &#8211; A sequence of mappings describing each lifecycle rule.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.upload_file">
<tt class="descname">upload_file</tt><big>(</big><em>filename</em>, <em>key=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.upload_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.upload_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to upload a file into this bucket.</p>
<p>Use this method to quickly put a local file in Cloud Storage.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s">&#39;~/my-file.txt&#39;</span><span class="p">,</span> <span class="s">&#39;remote-text-file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, remote-text-file.txt&gt;]</span>
</pre></div>
</div>
<p>If you don&#8217;t provide a key value, we will try to upload the file
using the local filename as the key (<strong>not</strong> the complete
path):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="s">&#39;~/my-file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, my-file.txt&gt;]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em>) &#8211; Local path to the file you want to upload.</li>
<li><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a>) &#8211; The key (either an object or a remote path) of where
to put the file.  If this is blank, we will try to
upload the file to the root of the bucket with the
same name as on your local file system.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.bucket.Bucket.upload_file_object">
<tt class="descname">upload_file_object</tt><big>(</big><em>file_obj</em>, <em>key=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.upload_file_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.upload_file_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut method to upload a file object into this bucket.</p>
<p>Use this method to quickly put a local file in Cloud Storage.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;~/my-file.txt&#39;</span><span class="p">),</span> <span class="s">&#39;remote-text-file.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, remote-text-file.txt&gt;]</span>
</pre></div>
</div>
<p>If you don&#8217;t provide a key value, we will try to upload the file
using the local filename as the key (<strong>not</strong> the complete
path):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="s">&#39;my-bucket&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;~/my-file.txt&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_all_keys</span><span class="p">()</span>
<span class="go">[&lt;Key: my-bucket, my-file.txt&gt;]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_obj</strong> (<em>file</em>) &#8211; A file handle open for reading.</li>
<li><strong>key</strong> (string or <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a>) &#8211; The key (either an object or a remote path) of where
to put the file.  If this is blank, we will try to
upload the file to the root of the bucket with the
same name as on your local file system.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.bucket.Bucket.versioning_enabled">
<tt class="descname">versioning_enabled</tt><a class="reference internal" href="_modules/gcloud/storage/bucket.html#Bucket.versioning_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.Bucket.versioning_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Is versioning enabled for this bucket?</p>
<p>See:  <a class="reference external" href="https://cloud.google.com/storage/docs/object-versioning">https://cloud.google.com/storage/docs/object-versioning</a> for
details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if enabled, else False.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.bucket.BucketIterator">
<em class="property">class </em><tt class="descclassname">gcloud.storage.bucket.</tt><tt class="descname">BucketIterator</tt><big>(</big><em>connection</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#BucketIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.BucketIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.iterator.Iterator" title="gcloud.storage.iterator.Iterator"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.iterator.Iterator</span></tt></a></p>
<p>An iterator listing all buckets.</p>
<p>You shouldn&#8217;t have to use this directly, but instead should use the helper
methods on <a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></tt></a> objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>connection</strong> (<a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></tt></a>) &#8211; The connection to use for querying the list of buckets.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.bucket.BucketIterator.get_items_from_response">
<tt class="descname">get_items_from_response</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/bucket.html#BucketIterator.get_items_from_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.bucket.BucketIterator.get_items_from_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method which yields <a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">Bucket</span></tt></a> items from a response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> (<em>dict</em>) &#8211; The JSON API response for a page of buckets.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.key">
<span id="keys"></span><h2>Keys<a class="headerlink" href="#module-gcloud.storage.key" title="Permalink to this headline">¶</a></h2>
<p>Create / interact with gcloud storage keys.</p>
<dl class="class">
<dt id="gcloud.storage.key.Key">
<em class="property">class </em><tt class="descclassname">gcloud.storage.key.</tt><tt class="descname">Key</tt><big>(</big><em>bucket=None</em>, <em>name=None</em>, <em>properties=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage._helpers._PropertyMixin</span></tt></p>
<p>A wrapper around Cloud Storage&#8217;s concept of an <tt class="docutils literal"><span class="pre">Object</span></tt>.</p>
<p>Key constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>) &#8211; The bucket to which this key belongs.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; The name of the key.  This corresponds to the
unique path of the object in the bucket.</li>
<li><strong>properties</strong> (<em>dict</em>) &#8211; All the other data provided by Cloud Storage.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gcloud.storage.key.Key.CHUNK_SIZE">
<tt class="descname">CHUNK_SIZE</tt><em class="property"> = 1048576</em><a class="headerlink" href="#gcloud.storage.key.Key.CHUNK_SIZE" title="Permalink to this definition">¶</a></dt>
<dd><p>The size of a chunk of data whenever iterating (1 MB).</p>
<p>This must be a multiple of 256 KB per the API specification.</p>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.CUSTOM_PROPERTY_ACCESSORS">
<tt class="descname">CUSTOM_PROPERTY_ACCESSORS</tt><em class="property"> = {'storageClass': 'storage_class', 'contentType': 'content_type', 'metageneration': 'metageneration', 'id': 'id', 'owner': 'owner', 'etag': 'etag', 'contentLanguage': 'content_language', 'generation': 'generation', 'timeDeleted': 'time_deleted', 'size': 'size', 'cacheControl': 'cache_control', 'updated': 'updated', 'name': 'name', 'componentCount': 'component_count', 'mediaLink': 'media_link', 'contentDisposition': 'content_disposition', 'contentEncoding': 'content_encoding', 'selfLink': 'self_link', 'acl': 'get_acl()'}</em><a class="headerlink" href="#gcloud.storage.key.Key.CUSTOM_PROPERTY_ACCESSORS" title="Permalink to this definition">¶</a></dt>
<dd><p>Map field name -&gt; accessor for fields w/ custom accessors.</p>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.acl">
<tt class="descname">acl</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.acl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.acl" title="Permalink to this definition">¶</a></dt>
<dd><p>Create our ACL on demand.</p>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.cache_control">
<tt class="descname">cache_control</tt><a class="headerlink" href="#gcloud.storage.key.Key.cache_control" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP &#8216;Cache-Control&#8217; header for this object.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="https://tools.ietf.org/html/rfc7234#section-5.2">https://tools.ietf.org/html/rfc7234#section-5.2</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.component_count">
<tt class="descname">component_count</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.component_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.component_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of underlying components that make up this object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.connection">
<tt class="descname">connection</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter property for the connection to use with this Key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></tt></a> or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The connection to use, or None if no connection is set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.content_disposition">
<tt class="descname">content_disposition</tt><a class="headerlink" href="#gcloud.storage.key.Key.content_disposition" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP &#8216;Content-Disposition&#8217; header for this object.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="https://tools.ietf.org/html/rfc6266">https://tools.ietf.org/html/rfc6266</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.content_encoding">
<tt class="descname">content_encoding</tt><a class="headerlink" href="#gcloud.storage.key.Key.content_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP &#8216;Content-Encoding&#8217; header for this object.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.2.2">https://tools.ietf.org/html/rfc7231#section-3.1.2.2</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.content_language">
<tt class="descname">content_language</tt><a class="headerlink" href="#gcloud.storage.key.Key.content_language" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP &#8216;Content-Language&#8217; header for this object.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="http://tools.ietf.org/html/bcp47">http://tools.ietf.org/html/bcp47</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.content_type">
<tt class="descname">content_type</tt><a class="headerlink" href="#gcloud.storage.key.Key.content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP &#8216;Content-Type&#8217; header for this object.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="https://tools.ietf.org/html/rfc2616#section-14.17">https://tools.ietf.org/html/rfc2616#section-14.17</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.crc32c">
<tt class="descname">crc32c</tt><a class="headerlink" href="#gcloud.storage.key.Key.crc32c" title="Permalink to this definition">¶</a></dt>
<dd><p>CRC32C checksum for this object.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="http://tools.ietf.org/html/rfc4960#appendix-B">http://tools.ietf.org/html/rfc4960#appendix-B</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.delete">
<tt class="descname">delete</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a key from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">Key</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The key that was just deleted.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a>
(propagated from
<a class="reference internal" href="#gcloud.storage.bucket.Bucket.delete_key" title="gcloud.storage.bucket.Bucket.delete_key"><tt class="xref py py-meth docutils literal"><span class="pre">gcloud.storage.bucket.Bucket.delete_key()</span></tt></a>).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.download_as_string">
<tt class="descname">download_as_string</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.download_as_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.download_as_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the contents of this key as a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The data stored in this key.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.download_to_file">
<tt class="descname">download_to_file</tt><big>(</big><em>file_obj</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.download_to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.download_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the contents of this key into a file-like object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_obj</strong> (<em>file</em>) &#8211; A file handle to which to write the key&#8217;s data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.download_to_filename">
<tt class="descname">download_to_filename</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.download_to_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.download_to_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the contents of this key into a named file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; A filename to be passed to <tt class="docutils literal"><span class="pre">open</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.etag">
<tt class="descname">etag</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.etag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.etag" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the ETag for the object.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="http://tools.ietf.org/html/rfc2616#section-3.11">http://tools.ietf.org/html/rfc2616#section-3.11</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.exists">
<tt class="descname">exists</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether or not this key exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the key exists in Cloud Storage.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="gcloud.storage.key.Key.from_dict">
<em class="property">classmethod </em><tt class="descname">from_dict</tt><big>(</big><em>key_dict</em>, <em>bucket=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a <a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">Key</span></tt></a> from data returned by the JSON API.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key_dict</strong> (<em>dict</em>) &#8211; A dictionary of data returned from getting an
Cloud Storage object.</li>
<li><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>) &#8211; The bucket to which this key belongs (and by
proxy, which connection to use).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">Key</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A key based on the data provided.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.generate_signed_url">
<tt class="descname">generate_signed_url</tt><big>(</big><em>expiration</em>, <em>method='GET'</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.generate_signed_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.generate_signed_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a signed URL for this key.</p>
<p>If you have a key that you want to allow access to for a set
amount of time, you can use this method to generate a URL that
is only valid within a certain time period.</p>
<p>This is particularly useful if you don&#8217;t want publicly
accessible keys, but don&#8217;t want to require users to explicitly
log in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>expiration</strong> (<em>int, long, datetime.datetime, datetime.timedelta</em>) &#8211; When the signed URL should expire.</li>
<li><strong>method</strong> (<em>string</em>) &#8211; The HTTP verb that will be used when requesting the URL.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A signed URL you can use to access the resource
until expiration.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.generation">
<tt class="descname">generation</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.generation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the generation for the object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.get_contents_as_string">
<tt class="descname">get_contents_as_string</tt><big>(</big><big>)</big><a class="headerlink" href="#gcloud.storage.key.Key.get_contents_as_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the contents of this key as a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The data stored in this key.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.get_contents_to_file">
<tt class="descname">get_contents_to_file</tt><big>(</big><em>file_obj</em><big>)</big><a class="headerlink" href="#gcloud.storage.key.Key.get_contents_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the contents of this key into a file-like object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_obj</strong> (<em>file</em>) &#8211; A file handle to which to write the key&#8217;s data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.get_contents_to_filename">
<tt class="descname">get_contents_to_filename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#gcloud.storage.key.Key.get_contents_to_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the contents of this key into a named file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; A filename to be passed to <tt class="docutils literal"><span class="pre">open</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.exceptions.NotFoundError" title="gcloud.storage.exceptions.NotFoundError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.NotFoundError</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.id">
<tt class="descname">id</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the ID for the object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.make_public">
<tt class="descname">make_public</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.make_public"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.make_public" title="Permalink to this definition">¶</a></dt>
<dd><p>Make this key public giving all users read access.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.md5_hash">
<tt class="descname">md5_hash</tt><a class="headerlink" href="#gcloud.storage.key.Key.md5_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>MD5 hash for this object.</p>
<dl class="docutils">
<dt>See: <a class="reference external" href="http://tools.ietf.org/html/rfc4960#appendix-B">http://tools.ietf.org/html/rfc4960#appendix-B</a> and</dt>
<dd><a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.media_link">
<tt class="descname">media_link</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.media_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.media_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the media download URI for the object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.metadata">
<tt class="descname">metadata</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve arbitrary/application specific metadata for the object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.metageneration">
<tt class="descname">metageneration</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.metageneration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.metageneration" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the metageneration for the object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.owner">
<tt class="descname">owner</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.owner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.owner" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve info about the owner of the object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">mapping of owner&#8217;s role/ID.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.path">
<tt class="descname">path</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter property for the URL path to this Key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The URL path to this Key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.public_url">
<tt class="descname">public_url</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.public_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.public_url" title="Permalink to this definition">¶</a></dt>
<dd><p>The public URL for this key&#8217;s object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><cite>string</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The public URL for this key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.rename">
<tt class="descname">rename</tt><big>(</big><em>new_name</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.rename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Renames this key using copy and delete operations.</p>
<p>Effectively, copies key to the same bucket with a new name, then
deletes the key.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method will first duplicate the data and then delete the
old key.  This means that with very large objects renaming
could be a very (temporarily) costly or a very slow operation.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_name</strong> (<em>string</em>) &#8211; The new name for this key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">Key</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The newly-copied key.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.self_link">
<tt class="descname">self_link</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.self_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.self_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the URI for the object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.set_contents_from_file">
<tt class="descname">set_contents_from_file</tt><big>(</big><em>file_obj</em>, <em>rewind=False</em>, <em>size=None</em>, <em>content_type=None</em><big>)</big><a class="headerlink" href="#gcloud.storage.key.Key.set_contents_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload the contents of this key from a file-like object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The effect of uploading to an existing key depends on the
&#8220;versioning&#8221; and &#8220;lifecycle&#8221; policies defined on the key&#8217;s
bucket.  In the absence of those policies, upload will
overwrite any existing contents.</p>
<p class="last">See the <a class="reference external" href="https://cloud.google.com/storage/docs/object-versioning">object versioning</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/lifecycle">lifecycle</a>
API documents for details.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_obj</strong> (<em>file</em>) &#8211; A file handle open for reading.</li>
<li><strong>rewind</strong> (<em>bool</em>) &#8211; If True, seek to the beginning of the file handle before
writing the file to Cloud Storage.</li>
<li><strong>size</strong> (<em>int</em>) &#8211; The number of bytes to read from the file handle.
If not provided, we&#8217;ll try to guess the size using
<tt class="xref py py-func docutils literal"><span class="pre">os.fstat()</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.set_contents_from_filename">
<tt class="descname">set_contents_from_filename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#gcloud.storage.key.Key.set_contents_from_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload this key&#8217;s contents from the content of f named file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The effect of uploading to an existing key depends on the
&#8220;versioning&#8221; and &#8220;lifecycle&#8221; policies defined on the key&#8217;s
bucket.  In the absence of those policies, upload will
overwrite any existing contents.</p>
<p class="last">See the <a class="reference external" href="https://cloud.google.com/storage/docs/object-versioning">object versioning</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/lifecycle">lifecycle</a>
API documents for details.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; The path to the file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.set_contents_from_string">
<tt class="descname">set_contents_from_string</tt><big>(</big><em>data</em>, <em>content_type='text/plain'</em><big>)</big><a class="headerlink" href="#gcloud.storage.key.Key.set_contents_from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload contents of this key from the provided string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The effect of uploading to an existing key depends on the
&#8220;versioning&#8221; and &#8220;lifecycle&#8221; policies defined on the key&#8217;s
bucket.  In the absence of those policies, upload will
overwrite any existing contents.</p>
<p class="last">See the <a class="reference external" href="https://cloud.google.com/storage/docs/object-versioning">object versioning</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/lifecycle">lifecycle</a>
API documents for details.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>string</em>) &#8211; The data to store in this key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">Key</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The updated Key object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.size">
<tt class="descname">size</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of the object,  in bytes.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.storage_class">
<tt class="descname">storage_class</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.storage_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.storage_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the storage class for the object.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/durable-reduced-availability#_DRA_Bucket">https://cloud.google.com/storage/docs/durable-reduced-availability#_DRA_Bucket</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Currently one of &#8220;STANDARD&#8221;, &#8220;DURABLE_REDUCED_AVAILABILITY&#8221;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.time_deleted">
<tt class="descname">time_deleted</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.time_deleted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.time_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the timestamp at which the object was deleted.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string or None</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">timestamp in RFC 3339 format, or None if the object
has a &#8220;live&#8221; version.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.key.Key.updated">
<tt class="descname">updated</tt><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.updated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.updated" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the timestamp at which the object was updated.</p>
<p>See: <a class="reference external" href="https://cloud.google.com/storage/docs/json_api/v1/objects">https://cloud.google.com/storage/docs/json_api/v1/objects</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">timestamp in RFC 3339 format.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.upload_from_file">
<tt class="descname">upload_from_file</tt><big>(</big><em>file_obj</em>, <em>rewind=False</em>, <em>size=None</em>, <em>content_type=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.upload_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.upload_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload the contents of this key from a file-like object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The effect of uploading to an existing key depends on the
&#8220;versioning&#8221; and &#8220;lifecycle&#8221; policies defined on the key&#8217;s
bucket.  In the absence of those policies, upload will
overwrite any existing contents.</p>
<p class="last">See the <a class="reference external" href="https://cloud.google.com/storage/docs/object-versioning">object versioning</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/lifecycle">lifecycle</a>
API documents for details.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_obj</strong> (<em>file</em>) &#8211; A file handle open for reading.</li>
<li><strong>rewind</strong> (<em>bool</em>) &#8211; If True, seek to the beginning of the file handle before
writing the file to Cloud Storage.</li>
<li><strong>size</strong> (<em>int</em>) &#8211; The number of bytes to read from the file handle.
If not provided, we&#8217;ll try to guess the size using
<tt class="xref py py-func docutils literal"><span class="pre">os.fstat()</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.upload_from_filename">
<tt class="descname">upload_from_filename</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.upload_from_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.upload_from_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload this key&#8217;s contents from the content of f named file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The effect of uploading to an existing key depends on the
&#8220;versioning&#8221; and &#8220;lifecycle&#8221; policies defined on the key&#8217;s
bucket.  In the absence of those policies, upload will
overwrite any existing contents.</p>
<p class="last">See the <a class="reference external" href="https://cloud.google.com/storage/docs/object-versioning">object versioning</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/lifecycle">lifecycle</a>
API documents for details.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; The path to the file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.key.Key.upload_from_string">
<tt class="descname">upload_from_string</tt><big>(</big><em>data</em>, <em>content_type='text/plain'</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/key.html#Key.upload_from_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.key.Key.upload_from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload contents of this key from the provided string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The effect of uploading to an existing key depends on the
&#8220;versioning&#8221; and &#8220;lifecycle&#8221; policies defined on the key&#8217;s
bucket.  In the absence of those policies, upload will
overwrite any existing contents.</p>
<p class="last">See the <a class="reference external" href="https://cloud.google.com/storage/docs/object-versioning">object versioning</a> and
<a class="reference external" href="https://cloud.google.com/storage/docs/lifecycle">lifecycle</a>
API documents for details.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>string</em>) &#8211; The data to store in this key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">Key</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The updated Key object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.acl">
<span id="access-control"></span><h2>Access Control<a class="headerlink" href="#module-gcloud.storage.acl" title="Permalink to this headline">¶</a></h2>
<p>Manipulate access control lists that Cloud Storage provides.</p>
<p><a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a> has a getting method that creates
an ACL object under the hood, and you can interact with that using
<tt class="xref py py-func docutils literal"><span class="pre">gcloud.storage.bucket.Bucket.get_acl()</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gcloud</span> <span class="kn">import</span> <span class="n">storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">connection</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">key_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">get_acl</span><span class="p">()</span>
</pre></div>
</div>
<p>Adding and removing permissions can be done with the following methods
(in increasing order of granularity):</p>
<ul class="simple">
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.all" title="gcloud.storage.acl.ACL.all"><tt class="xref py py-func docutils literal"><span class="pre">ACL.all()</span></tt></a>
corresponds to access for all users.</li>
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.all_authenticated" title="gcloud.storage.acl.ACL.all_authenticated"><tt class="xref py py-func docutils literal"><span class="pre">ACL.all_authenticated()</span></tt></a> corresponds
to access for all users that are signed into a Google account.</li>
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.domain" title="gcloud.storage.acl.ACL.domain"><tt class="xref py py-func docutils literal"><span class="pre">ACL.domain()</span></tt></a> corresponds to access on a
per Google Apps domain (ie, <tt class="docutils literal"><span class="pre">example.com</span></tt>).</li>
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.group" title="gcloud.storage.acl.ACL.group"><tt class="xref py py-func docutils literal"><span class="pre">ACL.group()</span></tt></a> corresponds to access on a
per group basis (either by ID or e-mail address).</li>
<li><a class="reference internal" href="#gcloud.storage.acl.ACL.user" title="gcloud.storage.acl.ACL.user"><tt class="xref py py-func docutils literal"><span class="pre">ACL.user()</span></tt></a> corresponds to access on a
per user basis (either by ID or e-mail address).</li>
</ul>
<p>And you are able to <tt class="docutils literal"><span class="pre">grant</span></tt> and <tt class="docutils literal"><span class="pre">revoke</span></tt> the following roles:</p>
<ul class="simple">
<li><strong>Reading</strong>:
<tt class="xref py py-func docutils literal"><span class="pre">_ACLEntity.grant_read()</span></tt> and <tt class="xref py py-func docutils literal"><span class="pre">_ACLEntity.revoke_read()</span></tt></li>
<li><strong>Writing</strong>:
<tt class="xref py py-func docutils literal"><span class="pre">_ACLEntity.grant_write()</span></tt> and <tt class="xref py py-func docutils literal"><span class="pre">_ACLEntity.revoke_write()</span></tt></li>
<li><strong>Owning</strong>:
<tt class="xref py py-func docutils literal"><span class="pre">_ACLEntity.grant_owner()</span></tt> and <tt class="xref py py-func docutils literal"><span class="pre">_ACLEntity.revoke_owner()</span></tt></li>
</ul>
<p>You can use any of these like any other factory method (these happen to
be <tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt> factories):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">user</span><span class="p">(</span><span class="s">&#39;me@example.org&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grant_read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">all_authenticated</span><span class="p">()</span><span class="o">.</span><span class="n">grant_write</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also chain these <tt class="docutils literal"><span class="pre">grant_*</span></tt> and <tt class="docutils literal"><span class="pre">revoke_*</span></tt> methods together
for brevity:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">grant_read</span><span class="p">()</span><span class="o">.</span><span class="n">revoke_write</span><span class="p">()</span>
</pre></div>
</div>
<p>After that, you can save any changes you make with the
<a class="reference internal" href="#gcloud.storage.acl.ACL.save" title="gcloud.storage.acl.ACL.save"><tt class="xref py py-func docutils literal"><span class="pre">gcloud.storage.acl.ACL.save()</span></tt></a> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>You can alternatively save any existing <a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></tt></a>
object (whether it was created by a factory method or not) from a
<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">acl</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">acl</span><span class="o">=</span><span class="n">acl</span><span class="p">)</span>
</pre></div>
</div>
<p>To get the list of <tt class="docutils literal"><span class="pre">entity</span></tt> and <tt class="docutils literal"><span class="pre">role</span></tt> for each unique pair, the
<a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><tt class="xref py py-class docutils literal"><span class="pre">ACL</span></tt></a> class is iterable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">list</span><span class="p">(</span><span class="n">ACL</span><span class="p">)</span>
<span class="go">[{&#39;role&#39;: &#39;OWNER&#39;, &#39;entity&#39;: &#39;allUsers&#39;}, ...]</span>
</pre></div>
</div>
<p>This list of tuples can be used as the <tt class="docutils literal"><span class="pre">entity</span></tt> and <tt class="docutils literal"><span class="pre">role</span></tt> fields
when sending metadata for ACLs to the API.</p>
<dl class="class">
<dt id="gcloud.storage.acl.ACL">
<em class="property">class </em><tt class="descclassname">gcloud.storage.acl.</tt><tt class="descname">ACL</tt><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Container class representing a list of access controls.</p>
<dl class="method">
<dt id="gcloud.storage.acl.ACL.add_entity">
<tt class="descname">add_entity</tt><big>(</big><em>entity</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.add_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.add_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an entity to the ACL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>entity</strong> (<tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt>) &#8211; The entity to add to this ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.all">
<tt class="descname">all</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for an Entity representing all users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An entity representing all users.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.all_authenticated">
<tt class="descname">all_authenticated</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.all_authenticated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.all_authenticated" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for an Entity representing all authenticated users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An entity representing all authenticated users.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all entities from the ACL.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.domain">
<tt class="descname">domain</tt><big>(</big><em>domain</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for a domain Entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>domain</strong> (<em>string</em>) &#8211; The domain for this entity.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An entity corresponding to this domain.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.entity">
<tt class="descname">entity</tt><big>(</big><em>entity_type</em>, <em>identifier=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for creating an Entity.</p>
<p>If an entity with the same type and identifier already exists,
this will return a reference to that entity.  If not, it will
create a new one and add it to the list of known entities for
this ACL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>entity_type</strong> (<em>string</em>) &#8211; The type of entity to create
(ie, <tt class="docutils literal"><span class="pre">user</span></tt>, <tt class="docutils literal"><span class="pre">group</span></tt>, etc)</li>
<li><strong>identifier</strong> (<em>string</em>) &#8211; The ID of the entity (if applicable).
This can be either an ID or an e-mail address.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A new Entity or a reference to an existing identical entity.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.entity_from_dict">
<tt class="descname">entity_from_dict</tt><big>(</big><em>entity_dict</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.entity_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.entity_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an _ACLEntity object from a dictionary of data.</p>
<p>An entity is a mutable object that represents a list of roles
belonging to either a user or group or the special types for all
users and all authenticated users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>entity_dict</strong> (<em>dict</em>) &#8211; Dictionary full of data from an ACL lookup.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An Entity constructed from the dictionary.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.get_entities">
<tt class="descname">get_entities</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.get_entities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.get_entities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all Entity objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of <tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt> objects</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of all Entity objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.get_entity">
<tt class="descname">get_entity</tt><big>(</big><em>entity</em>, <em>default=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.get_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.get_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an entity object from the ACL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>entity</strong> (<tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt> or string) &#8211; The entity to get lookup in the ACL.</li>
<li><strong>default</strong> (<em>anything</em>) &#8211; This value will be returned if the entity
doesn&#8217;t exist.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The corresponding entity or the value provided
to <tt class="docutils literal"><span class="pre">default</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.group">
<tt class="descname">group</tt><big>(</big><em>identifier</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.group" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for a group Entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<em>string</em>) &#8211; An id or e-mail for this particular group.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An Entity corresponding to this group.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.has_entity">
<tt class="descname">has_entity</tt><big>(</big><em>entity</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.has_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.has_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not this ACL has any entries for an entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>entity</strong> (<tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt>) &#8211; The entity to check for existence in this ACL.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True of the entity exists in the ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.acl.ACL.loaded">
<tt class="descname">loaded</tt><em class="property"> = False</em><a class="headerlink" href="#gcloud.storage.acl.ACL.loaded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.reload">
<tt class="descname">reload</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the ACL data from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><tt class="xref py py-class docutils literal"><span class="pre">ACL</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all entities from the ACL, and clear the <tt class="docutils literal"><span class="pre">loaded</span></tt> flag.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.save">
<tt class="descname">save</tt><big>(</big><em>acl=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.save" title="Permalink to this definition">¶</a></dt>
<dd><p>A method to be overridden by subclasses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>acl</strong> (<a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></tt></a>, or a compatible list.) &#8211; The ACL object to save.  If left blank, this will save
current entries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">NotImplementedError</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ACL.user">
<tt class="descname">user</tt><big>(</big><em>identifier</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ACL.user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ACL.user" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method for a user Entity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier</strong> (<em>string</em>) &#8211; An id or e-mail for this particular user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">_ACLEntity</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An Entity corresponding to this user.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.acl.BucketACL">
<em class="property">class </em><tt class="descclassname">gcloud.storage.acl.</tt><tt class="descname">BucketACL</tt><big>(</big><em>bucket</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#BucketACL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.BucketACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></tt></a></p>
<p>An ACL specifically for a bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>) &#8211; The bucket to which this ACL relates.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.acl.BucketACL.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#BucketACL.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.BucketACL.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all ACL entries.</p>
<p>Note that this won&#8217;t actually remove <em>ALL</em> the rules, but it
will remove all the non-default rules.  In short, you&#8217;ll still
have access to a bucket that you created even after you clear
ACL rules with this method.</p>
<p>For example, imagine that you granted access to this bucket to a
bunch of coworkers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">user</span><span class="p">(</span><span class="s">&#39;coworker1@example.org&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grant_read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">user</span><span class="p">(</span><span class="s">&#39;coworker2@example.org&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">grant_read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>Now they work in another part of the company and you want to
&#8216;start fresh&#8217; on who has access:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
<p>At this point all the custom rules you created have been removed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.BucketACL" title="gcloud.storage.acl.BucketACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.BucketACL</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.BucketACL.reload">
<tt class="descname">reload</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#BucketACL.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.BucketACL.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the ACL data from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.BucketACL" title="gcloud.storage.acl.BucketACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.BucketACL</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.BucketACL.save">
<tt class="descname">save</tt><big>(</big><em>acl=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#BucketACL.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.BucketACL.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save this ACL for the current bucket.</p>
<p>If called without arguments, this will save the entries
currently stored on this ACL:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also provide a specific ACL to save instead of the one
currently set on the Bucket object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">acl</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">acl</span><span class="o">=</span><span class="n">my_other_acl</span><span class="p">)</span>
</pre></div>
</div>
<p>You can use this to set access controls to be consistent from
one bucket to another:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket1</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket1_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket2</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket2_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket2</span><span class="o">.</span><span class="n">acl</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">bucket1</span><span class="o">.</span><span class="n">get_acl</span><span class="p">())</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>acl</strong> (<a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></tt></a>, or a compatible list.) &#8211; The ACL object to save.  If left blank, this will save
current entries.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.BucketACL" title="gcloud.storage.acl.BucketACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.BucketACL</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gcloud.storage.acl.DefaultObjectACL">
<em class="property">class </em><tt class="descclassname">gcloud.storage.acl.</tt><tt class="descname">DefaultObjectACL</tt><big>(</big><em>bucket</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#DefaultObjectACL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.DefaultObjectACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.acl.BucketACL" title="gcloud.storage.acl.BucketACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.BucketACL</span></tt></a></p>
<p>A class representing the default object ACL for a bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket</strong> (<a class="reference internal" href="#gcloud.storage.bucket.Bucket" title="gcloud.storage.bucket.Bucket"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.bucket.Bucket</span></tt></a>) &#8211; The bucket to which this ACL relates.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gcloud.storage.acl.ObjectACL">
<em class="property">class </em><tt class="descclassname">gcloud.storage.acl.</tt><tt class="descname">ObjectACL</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ObjectACL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ObjectACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></tt></a></p>
<p>An ACL specifically for a key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<a class="reference internal" href="#gcloud.storage.key.Key" title="gcloud.storage.key.Key"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.key.Key</span></tt></a>) &#8211; The key that this ACL corresponds to.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gcloud.storage.acl.ObjectACL.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ObjectACL.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ObjectACL.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all ACL rules from the key.</p>
<p>Note that this won&#8217;t actually remove <em>ALL</em> the rules, but it
will remove all the non-default rules.  In short, you&#8217;ll still
have access to a key that you created even after you clear ACL
rules with this method.</p>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ObjectACL.reload">
<tt class="descname">reload</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ObjectACL.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ObjectACL.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the ACL data from Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gcloud.storage.acl.ObjectACL" title="gcloud.storage.acl.ObjectACL"><tt class="xref py py-class docutils literal"><span class="pre">ObjectACL</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The current ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.acl.ObjectACL.save">
<tt class="descname">save</tt><big>(</big><em>acl=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/acl.html#ObjectACL.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.acl.ObjectACL.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the ACL data for this key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>acl</strong> (<a class="reference internal" href="#gcloud.storage.acl.ACL" title="gcloud.storage.acl.ACL"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.acl.ACL</span></tt></a>) &#8211; The ACL object to save.  If left blank, this will
save the entries set locally on the ACL.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.iterator">
<span id="iterators"></span><h2>Iterators<a class="headerlink" href="#module-gcloud.storage.iterator" title="Permalink to this headline">¶</a></h2>
<p>Iterators for paging through API responses.</p>
<p>These iterators simplify the process of paging through API responses
where the response is a list of results with a <tt class="docutils literal"><span class="pre">nextPageToken</span></tt>.</p>
<p>To make an iterator work, just override the <tt class="docutils literal"><span class="pre">get_items_from_response</span></tt>
method so that given a response (containing a page of results) it parses
those results into an iterable of the actual objects you want:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyIterator</span><span class="p">(</span><span class="n">Iterator</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">get_items_from_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;items&#39;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
      <span class="k">yield</span> <span class="n">MyItemClass</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">other_arg</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>You then can use this to get <strong>all</strong> the results from a resource:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">iterator</span> <span class="o">=</span> <span class="n">MyIterator</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">iterator</span><span class="p">)</span>  <span class="c"># Convert to a list (consumes all values).</span>
</pre></div>
</div>
<p>Or you can walk your way through items and call off the search early if
you find what you&#8217;re looking for (resulting in possibly fewer
requests):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">MyIterator</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">print</span> <span class="n">item</span><span class="o">.</span><span class="n">name</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">break</span>
</pre></div>
</div>
<dl class="class">
<dt id="gcloud.storage.iterator.Iterator">
<em class="property">class </em><tt class="descclassname">gcloud.storage.iterator.</tt><tt class="descname">Iterator</tt><big>(</big><em>connection</em>, <em>path</em>, <em>extra_params=None</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A generic class for iterating through Cloud Storage list responses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>connection</strong> (<a class="reference internal" href="#gcloud.storage.connection.Connection" title="gcloud.storage.connection.Connection"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.connection.Connection</span></tt></a>) &#8211; The connection to use to make requests.</li>
<li><strong>path</strong> (<em>string</em>) &#8211; The path to query for the list of items.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gcloud.storage.iterator.Iterator.PAGE_TOKEN">
<tt class="descname">PAGE_TOKEN</tt><em class="property"> = 'pageToken'</em><a class="headerlink" href="#gcloud.storage.iterator.Iterator.PAGE_TOKEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gcloud.storage.iterator.Iterator.RESERVED_PARAMS">
<tt class="descname">RESERVED_PARAMS</tt><em class="property"> = frozenset(['pageToken'])</em><a class="headerlink" href="#gcloud.storage.iterator.Iterator.RESERVED_PARAMS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.get_items_from_response">
<tt class="descname">get_items_from_response</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.get_items_from_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.get_items_from_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method called while iterating. This should be overriden.</p>
<p>This method should be overridden by a subclass.  It should
accept the API response of a request for the next page of items,
and return a list (or other iterable) of items.</p>
<p>Typically this method will construct a Bucket or a Key from the
page of results in the response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> (<em>dict</em>) &#8211; The response of asking for the next page of items.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">iterable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Items that the iterator should yield.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.get_next_page_response">
<tt class="descname">get_next_page_response</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.get_next_page_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.get_next_page_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests the next page from the path provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parsed JSON response of the next page&#8217;s contents.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.get_query_params">
<tt class="descname">get_query_params</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.get_query_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.get_query_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for query parameters for the next request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary of query parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.has_next_page">
<tt class="descname">has_next_page</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.has_next_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.has_next_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether or not this iterator has more pages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Whether the iterator has more pages or not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gcloud.storage.iterator.Iterator.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/gcloud/storage/iterator.html#Iterator.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.iterator.Iterator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the iterator to the beginning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gcloud.storage.exceptions">
<span id="exceptions"></span><h2>Exceptions<a class="headerlink" href="#module-gcloud.storage.exceptions" title="Permalink to this headline">¶</a></h2>
<p>Custom exceptions for gcloud.storage package.</p>
<dl class="exception">
<dt id="gcloud.storage.exceptions.ConnectionError">
<em class="property">exception </em><tt class="descclassname">gcloud.storage.exceptions.</tt><tt class="descname">ConnectionError</tt><big>(</big><em>response</em>, <em>content</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/exceptions.html#ConnectionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.exceptions.ConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.exceptions.StorageError" title="gcloud.storage.exceptions.StorageError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.StorageError</span></tt></a></p>
<p>Exception corresponding to a bad HTTP/RPC connection.</p>
</dd></dl>

<dl class="exception">
<dt id="gcloud.storage.exceptions.NotFoundError">
<em class="property">exception </em><tt class="descclassname">gcloud.storage.exceptions.</tt><tt class="descname">NotFoundError</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/gcloud/storage/exceptions.html#NotFoundError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.exceptions.NotFoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gcloud.storage.exceptions.StorageError" title="gcloud.storage.exceptions.StorageError"><tt class="xref py py-class docutils literal"><span class="pre">gcloud.storage.exceptions.StorageError</span></tt></a></p>
<p>Exception corresponding to a 404 not found bad connection.</p>
</dd></dl>

<dl class="exception">
<dt id="gcloud.storage.exceptions.StorageError">
<em class="property">exception </em><tt class="descclassname">gcloud.storage.exceptions.</tt><tt class="descname">StorageError</tt><a class="reference internal" href="_modules/gcloud/storage/exceptions.html#StorageError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gcloud.storage.exceptions.StorageError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Base error class for gcloud errors.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    </div>
  </div>
    <footer id="gc-footer" class="footer" role="contentinfo">
    <div id="gc-copyright">
        &copy; Copyright 2014, JJ Geewax.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
      </div>
    </footer>
  </body>
</html>